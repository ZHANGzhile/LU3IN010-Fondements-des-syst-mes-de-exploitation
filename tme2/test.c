#include <stdio.h> 
#include <unistd.h> 
#include <stdlib.h> 
#include <sys/times.h> 

int main ()
{ 
    struct tms time_buf_head , time_buf_end ;
    long   tck = 0 ;
    clock_t time_head , time_end ;
    
    tck = sysconf (_SC_CLK_TCK );    /*获取系统时钟(1秒里有多少个)*/ 

    time_head = times ( & time_buf_head );   /*进程运行到此时的系统时钟数(总的)*/ 
    printf ("head_time is : %f /n " , time_head / (double )tck );  /*此时进程所处的时间点(单位为秒)*/ 

    //system ("./time_test.exe"); 
    system ("sleep 2" );    /*睡眠2秒*/ 
    
    time_end = times ( & time_buf_end );   /*进程到此时的系统时钟数*/ 
    printf ("end_time is : %f /n " , time_end / (double )tck ); /*此时进程所处的时间点(单位为秒)*/ 

    printf ("user time is : %f /n " , ((time_buf_end . tms_utime - time_buf_head . tms_utime ) /(double )tck ));   /*打印出用户进程到此所经历时间*/ 
    printf ("systime time is : %f /n " , ((time_buf_end . tms_stime - time_buf_head . tms_stime) / (double )tck));
    printf ("child user time is : %f /n " , ((time_buf_end . tms_cutime - time_buf_head .tms_cutime ) / (double )tck ));
    printf ("child sys time is : %f /n " , ((time_buf_end . tms_cstime - time_buf_head .tms_cstime ) / (double )tck ));
    return (0 );
}