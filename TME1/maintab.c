#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include "tab.h"
//#include <sys/resource.h>

//Q2.8
/*void PrintMem() {
    struct rusage usage;
    getrusage(RUSAGE_SELF, &usage);
    printf("Memory usage: %ld KB\n", usage.ru_maxrss);
}*/

//Q2.3
int main() {
    int tab1[NMAX];
    InitTab(tab1, NMAX); //tableau initialisé sur la pile
    PrintTab(tab1, NMAX);
    printf("Sum: %d\n", SumTab(tab1, NMAX));

    int minVal;
    printf("MinSum: %d\n", MinSumTab(&minVal, tab1, NMAX));
    printf("Min: %d\n", minVal);

    int *tab2 = (int *)malloc(NMAX * sizeof(int)); //tableau initialisé dans le tas
    InitTab(tab2, NMAX);
    PrintTab(tab2, NMAX);
    printf("Sum: %d\n", SumTab(tab2, NMAX));

    printf("MinSum: %d\n", MinSumTab(&minVal, tab2, NMAX));
    printf("Min: %d\n", minVal);

    free(tab2);
    return 0;
}

/*Q2.9
int main() {
    int NMAX = 1000000;
    PrintMem();
    int *tab = (int *)malloc(NMAX * sizeof(int));
    InitTab(tab, NMAX);
    PrintMem();
    free(tab);
    return 0;
}
*/